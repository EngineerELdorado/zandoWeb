<ngx-spinner></ngx-spinner>

<div class="row filtersDiv text-center">
    
      <div  class="btn-group col" mdbDropdown >
          <button type="button" mdbBtn color="info" class="waves-light btn-sm" mdbWavesEffect>{{cityName}}</button>
          <button type="button" mdbDropdownToggle mdbBtn color="info" class="btn-sm dropdown-toggle dropdown-toggle-split px-3 waves-light" mdbWavesEffect></button>
          <div class="dropdown-menu">
              <a class="dropdown-item" (click)="getProducts()">Toutes</a>
              <div class="dropdown-divider"></div>
            <div *ngFor="let city of cities">
                
                <a class="dropdown-item" (click)="getProductByCityId(city.id, city.name)">{{city.name}}</a>
                <div class="dropdown-divider"></div>
            </div>
             
              
          </div>
        </div>

        <div   class="btn-group col" mdbDropdown >
            <button type="button" mdbBtn color="info" class="waves-light btn-sm" mdbWavesEffect>{{areaName}}</button>
            <button type="button" mdbDropdownToggle mdbBtn color="info" class="btn-sm dropdown-toggle dropdown-toggle-split px-3 waves-light" mdbWavesEffect></button>
            <div class="dropdown-menu">
                <div class="dropdown-divider"></div>
              <div *ngFor="let area of areas">
                  
                  <a class="dropdown-item" (click)="getProductsByAreaId(area.id, area.name)">{{area.name}}</a>
                  <div class="dropdown-divider"></div>
              </div>
               
                
            </div>
          </div>
          <div  class="btn-group col" mdbDropdown >
              <button type="button" mdbBtn color="info" class="waves-light btn-sm" mdbWavesEffect>{{catName}}</button>
              <button type="button" mdbDropdownToggle mdbBtn color="info" class="btn-sm dropdown-toggle dropdown-toggle-split px-3 waves-light" mdbWavesEffect></button>
              <div class="dropdown-menu">
                  <!-- <a class="dropdown-item" (click)="getProducts()">Toutes</a> -->
                  <div class="dropdown-divider"></div>
                <div *ngFor="let category of categories">
                    
                    <a class="dropdown-item" (click)="getProductsByCategoryId(category.id, category.name)">{{category.name}}</a>
                    <div class="dropdown-divider"></div>
                </div>
                 
                  
              </div>
            </div>
          <div  class=" col" >
            <form>
              <input height="200" type="text" placeholder="Que cherchez vous ?">
            </form>
              
            </div>

          
</div>


<div class="row " data-spy="scroll" data-target="#myScrollspy" data-offset="1">
<div style="background-color: #fffde7" class="col-md-9">
  <ng-masonry-grid class="row" style="margin-left: 30px" [masonryOptions]="{ transitionDuration: '0.8s', gutter: 5,addStatus: 'append',horizontalOrder: true }" 
  [useAnimation]="true"
  [useImagesLoaded]="true"
  [scrollAnimationOptions]="{ animationEffect: 'effect-4', minDuration : 0.4, maxDuration : 0.7,viewportFactor : 5 }">
    
     
    <ng-masonry-grid-item class="card" [routerLink]="['/product/'+product?.id]"
    *ngFor="let product of products" style="margin: 2px; width: 180px">
      <img class="card-img-top" src="{{product?.thumbnail}}" alt="Card image cap">
        <div class="card-footer">
          <p class="card-text text-center">
              <span class="badge badge-lg bg-info">{{product?.name|subText}}</span>
             <span class="badge badge-lg bg-success">{{product?.price}} $</span></p>
        </div>
    </ng-masonry-grid-item>
  
    </ng-masonry-grid>
 
  
</div>


<div  style="margin-top: 80px" id="myScrollspy"  class=" col-md-3 sticky">
   <div class="card">
     <div class="row">
      <div class="card">
        
      </div>
     </div>
    
      <ul class="list-group">
          <li class="list-group-item bg-info " style="color:white">categories</li>
          <li class="list-group-item text-info" (click)="getProducts()">Toutes</li>
          <li (click)="getProductsByCategoryId(category.id, category.name)" class="list-group-item text-info" *ngFor="let category of categories">{{category.name}}</li>
        </ul>
   </div>
  </div>

</div>
